<launch>
  <!-- Waypoint Publisher untuk trajectory helix (spiral) -->
  <node pkg="mpc_offboard"
        type="waypoint_publisher_mavros.py"
        name="waypoint_publisher_mavros"
        output="screen">

    <!-- PILIH MODE: helix -->
    <param name="waypoint_mode" value="helix"/>

    <!-- PARAMETER TRAJECTORY HELIX -->
    <param name="helix_center_n" value="0.0"/>        <!-- Center North (m) -->
    <param name="helix_center_e" value="0.0"/>        <!-- Center East (m) -->
    <param name="helix_radius" value="5.0"/>          <!-- Horizontal radius (m) - smaller, safer -->
    <param name="helix_start_altitude" value="-5.0"/> <!-- Starting altitude NED (negative = up) -->
    <param name="helix_end_altitude" value="-15.0"/>  <!-- Ending altitude NED (10m climb) -->
    <param name="helix_turns" value="2.0"/>           <!-- Number of complete circles (less turns) -->
    <param name="helix_points" value="100"/>          <!-- Total waypoints (smooth) -->

    <!-- PARAMETER BEHAVIOUR - SAFE MODE FOR REAL FLIGHT -->
    <param name="continuous_mode" value="true"/>      <!-- Smooth trajectory following -->
    <param name="lookahead_distance" value="2.5"/>    <!-- 2.5m - gentle tracking -->
    <param name="loop_mission" value="false"/>        <!-- false = run once (safer for testing) -->
    <param name="acceptance_radius" value="1.2"/>     <!-- 1.2m - reasonable tolerance -->

  </node>
</launch>
