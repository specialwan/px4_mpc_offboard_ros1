<launch>
  <!-- Waypoint Publisher untuk trajectory helix (spiral) -->
  <node pkg="mpc_offboard"
        type="waypoint_publisher_mavros.py"
        name="waypoint_publisher_mavros"
        output="screen">

    <!-- PILIH MODE: helix -->
    <param name="waypoint_mode" value="helix"/>

    <!-- PARAMETER TRAJECTORY HELIX -->
    <param name="helix_center_n" value="0.0"/>        <!-- Center North (m) -->
    <param name="helix_center_e" value="0.0"/>        <!-- Center East (m) -->
    <param name="helix_radius" value="10.0"/>          <!-- Horizontal radius (m) -->
    <param name="helix_start_altitude" value="-10.0"/> <!-- Starting altitude NED (negative = up) -->
    <param name="helix_end_altitude" value="-30.0"/>  <!-- Ending altitude NED (higher = more climb) -->
    <param name="helix_turns" value="3.0"/>           <!-- Number of complete circles -->
    <param name="helix_points" value="120"/>          <!-- Total waypoints (more = smoother) -->

    <!-- PARAMETER BEHAVIOUR -->
    <param name="continuous_mode" value="true"/>      <!-- Smooth trajectory following -->
    <param name="lookahead_distance" value="2.0"/>    <!-- Lookahead for path following -->
    <param name="loop_mission" value="false"/>        <!-- false = run once, true = repeat -->
    <param name="acceptance_radius" value="0.8"/>     <!-- Waypoint acceptance radius (m) -->

  </node>
</launch>
