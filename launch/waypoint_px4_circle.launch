<launch>
  <!-- Waypoint Publisher untuk PX4 internal PID (trajectory circle) -->
  <node pkg="mpc_offboard"
        type="waypoint_publisher_px4.py"
        name="waypoint_publisher_px4"
        output="screen">

    <!-- Pilih mode trajectory -->
    <param name="waypoint_mode" value="circle"/>

    <!-- Parameter circle (NED frame) -->
    <!-- center_n / center_e = pusat lingkaran dalam meter relatif home -->
    <param name="circle_center_n"   value="0.0"/>
    <param name="circle_center_e"   value="0.0"/>
    <param name="circle_radius"     value="10.0"/>   <!-- radius 10 m -->
    <param name="circle_altitude"   value="-5.0"/>   <!-- 5 m di atas ground -->
    <param name="circle_points"     value="80"/>     <!-- jumlah waypoint (lebih banyak = lebih smooth) -->

    <!-- Mode tracking -->
    <param name="continuous_mode"    value="true"/>   <!-- smooth, tidak stop di setiap WP -->
    <param name="acceptance_radius"  value="0.8"/>    <!-- dipakai kalau continuous_mode=false -->
    <param name="lookahead_distance" value="2.0"/>    <!-- jarak sebelum advance ke WP berikut -->
    <param name="loop_mission"       value="false"/>   <!-- true = terbang melingkar terus -->

  </node>
</launch>
